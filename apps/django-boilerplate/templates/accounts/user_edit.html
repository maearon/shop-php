{% extends 'base.html' %}

{% block title %}Edit user{% endblock %}

{% block content %}
<h1>Update your profile</h1>

<div class="row">
  <div class="col-md-6 col-md-offset-3">

    <form method="post">
      {% csrf_token %}
      {% if form.errors %}
        <div class="alert alert-danger">
          <strong>Please fix the following errors:</strong>
          <ul>
            {% for field in form %}
              {% for error in field.errors %}
                <li>{{ field.label }}: {{ error }}</li>
              {% endfor %}
            {% endfor %}
            {% for error in form.non_field_errors %}
              <li>{{ error }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}

      <div class="form-group">
        {{ form.name.label_tag }}
        {{ form.name }}
      </div>

      <div class="form-group">
        {{ form.email.label_tag }}
        {{ form.email }}
      </div>

      <div class="form-group">
        {{ form.password.label_tag }}
        {{ form.password }}
      </div>

      <div class="form-group">
        {{ form.password_confirmation.label_tag }}
        {{ form.password_confirmation }}
      </div>

      <button type="submit" class="btn btn-primary">Save changes</button>
    </form>

    <div class="gravatar_edit mt-3">
      <img src="{{ user.gravatar_url }}" alt="Gravatar" class="rounded-circle">
      <a href="https://gravatar.com/emails" target="_blank">Change</a>
    </div>

  </div>
</div>
{% endblock %}
